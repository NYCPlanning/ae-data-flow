services:
  db:
    build:
      context: db/.
    environment:
      - POSTGRES_USER=${FLOW_DATABASE_USER}
      - POSTGRES_PASSWORD=${FLOW_DATABASE_PASSWORD}
      - POSTGRES_DB=${FLOW_DATABASE_NAME}
      - LOCAL_POSTGRES_HOST=localhost
      - LOCAL_POSTGRES_PORT=5432
      - TARGET_DATABASE_USER=${TARGET_DATABASE_USER}
      - TARGET_DATABASE_PASSWORD=${TARGET_DATABASE_PASSWORD}
      - TARGET_DATABASE_NAME=${TARGET_DATABASE_NAME}
      - TARGET_DATABASE_PORT=${TARGET_DATABASE_PORT}
      - TARGET_DATABASE_HOST=${TARGET_DATABASE_HOST}
    networks:
      - data
    ports:
      - "8001:5432"
    volumes:
      - ./pg-db:/var/lib/postgresql/flow
networks:
  data:
    name: ae-zoning-api_data
    external: true
